<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0,user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<title>Untitled</title>
<style type="text/css" media="screen">
    * {margin:0;padding:0;list-style:none;}
    .mobile {width:320px;margin:0 auto;padding:20px 0px ;background-color:#f5f5f5;text-align:center;}
    input {margin:10px 0px;height:30px;border-radius:3px;border:1px solid #ccc;}
    input[type='text'] {display:inline-block;width:200px;padding-left:5px;}
    input[type='button'] {display:inline-block;width:100px;height:30px;font:400 14px/30px Arial;background-color:#fff;}
    input:focus {outline:none;border-color:#999;}
</style>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="md5.js"></script>
</head>
<body>
<div class="mobile" id="mobile">
    <input type="text" id="s" value="" autocomplete="off"/>
    <input type="text" id="d" value="" autocomplete="off"/>
    <input type="text" id="k" value="#enx" autocomplete="off"/><br />
    <input type="button" id="btn" value="Wild Child"/><br />
    <input type="text" id="r" value="" autocomplete="off"/>
</div>

<script type="text/javascript">
    function encrypt(password, key){
        if(password && key){
            var md5one = $.md5(password,key);
            var md5two = $.md5(md5one,'apollo');
            var md5three = $.md5(md5one,'moon');
            //计算大小写
            var rule = md5three.split("");
            var source = md5two.split("");
            for(var i=0;i<=31;i++){ 
                if(isNaN(source[i])){
                    var str ="existing53584618whatfuck";
                    if(str.search(rule[i]) > -1){
                        source[i] = source[i].toUpperCase();
                    }
                }
            }
            var code32 = source.join("");
            var code1 = code32.slice(0,1);
            if(isNaN(code1)){
                var code16 = code32.slice(0,16);
            }else{
                var code16 = "E" + code32.slice(1,16);
            }
            return code16;
        }
    }
    $(function () {
        $('#mobile').css('height', document.documentElement.clientHeight);
        $('#btn').click(function () {
            //doKey
            var domain = $('#d').val().split('');
            var scramble = $('#k').val().split('');
            domain.splice(1,0, scramble[0], scramble[1]);
            domain.splice(4,0, scramble[2], scramble[3]);
            var value = domain.reverse().join('');
            $('#r').val(encrypt($('#s').val(), value));
        })
    });
</script>
</body>
</html>
