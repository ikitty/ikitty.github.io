<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="robots" content="all" />
<meta name="author" content="Tencent-TGideas" />
<meta name="Copyright" content="Tencent" />
<title>alex animtion demo</title>
<style type="text/css" media="screen">
#test {font:400 16px/21px Arial;}
</style>
</head>
<body>
<div id="test" class="">滚动鼠标看看：</div>

<script type="text/javascript">
    var alexWheel = function (callback) {
        var st ;
        function handleWheel(e) {
            var delta = 0;
            e = window.event || e;

            if (e.wheelDelta) {
                delta = e.wheelDelta/120; 
            } else if (e.detail) {
                delta = -e.detail/3;
            }

            st && clearTimeout(st);
            st = setTimeout(function () {
                callback(delta);
            }, 100);
        }

        window.onmousewheel = document.onmousewheel = handleWheel;
        if (window.addEventListener) {
            window.addEventListener('DOMMouseScroll', handleWheel, false);
        }
    };

    var cb = function (dir) {
        if (dir > 0) {
            document.getElementById('test').innerHTML = 'mouse up';
        }else {
            document.getElementById('test').innerHTML = 'mouse down';
        }
    };
    alexWheel(cb);

</script>
</body>
</html>
